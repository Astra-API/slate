
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <link rel="icon" type="image/png"  href="images/astra-logo-b5f5b10a.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
        <meta
            name="description"
            content="Documentation for the Astra API"
        >
    <title>API Reference</title>

    <style media="screen">
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cpf {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s, .highlight .sa, .highlight .dl {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf, .highlight .fm {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv, .highlight .vm {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .nl {
  color: #f92672;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <style media="print">
      * {
        -webkit-transition:none!important;
        transition:none!important;
      }
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #586e75;
}
.highlight .err {
  color: #002b36;
  background-color: #dc322f;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cm, .highlight .cpf, .highlight .c1, .highlight .cs {
  color: #657b83;
}
.highlight .cp {
  color: #b58900;
}
.highlight .nt {
  color: #b58900;
}
.highlight .o, .highlight .ow {
  color: #93a1a1;
}
.highlight .p, .highlight .pi {
  color: #93a1a1;
}
.highlight .gi {
  color: #859900;
}
.highlight .gd {
  color: #dc322f;
}
.highlight .gh {
  color: #268bd2;
  background-color: #002b36;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #6c71c4;
}
.highlight .kc {
  color: #cb4b16;
}
.highlight .kt {
  color: #cb4b16;
}
.highlight .kd {
  color: #cb4b16;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .dl, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #859900;
}
.highlight .sa {
  color: #6c71c4;
}
.highlight .sr {
  color: #2aa198;
}
.highlight .si {
  color: #d33682;
}
.highlight .se {
  color: #d33682;
}
.highlight .nn {
  color: #b58900;
}
.highlight .nc {
  color: #b58900;
}
.highlight .no {
  color: #b58900;
}
.highlight .na {
  color: #268bd2;
}
.highlight .m, .highlight .mb, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mx {
  color: #859900;
}
.highlight .ss {
  color: #859900;
}
    </style>
    <link href="stylesheets/screen-e20a569a.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print-966d6edc.css" rel="stylesheet" media="print" />
      <script src="javascripts/all-b12a2749.js"></script>

    <script>
      $(function() { setupCodeCopy(); });
    </script>
  </head>

  <body class="index" data-languages="[]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar-cad8cdcb.png" alt="" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo-524ecb2d.png" class="logo" alt="" />
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#introduction-to-astra-api" class="toc-h1 toc-link" data-title="Introduction to Astra API">Introduction to Astra API</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#what-is-it" class="toc-h2 toc-link" data-title="What is it?">What is it?</a>
                  </li>
                  <li>
                    <a href="#who-is-it-for" class="toc-h2 toc-link" data-title="Who is it for?">Who is it for?</a>
                  </li>
                  <li>
                    <a href="#supported-exchanges" class="toc-h2 toc-link" data-title="Supported exchanges">Supported exchanges</a>
                  </li>
                  <li>
                    <a href="#supported-asset-types" class="toc-h2 toc-link" data-title="Supported asset types">Supported asset types</a>
                  </li>
                  <li>
                    <a href="#supported-endpoints" class="toc-h2 toc-link" data-title="Supported endpoints">Supported endpoints</a>
                  </li>
                  <li>
                    <a href="#how-it-works" class="toc-h2 toc-link" data-title="How it works">How it works</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#getting-started" class="toc-h1 toc-link" data-title="Getting Started">Getting Started</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#1-create-an-account" class="toc-h2 toc-link" data-title="1. Create an account">1. Create an account</a>
                  </li>
                  <li>
                    <a href="#2-create-an-api-key" class="toc-h2 toc-link" data-title="2. Create an API key">2. Create an API key</a>
                  </li>
                  <li>
                    <a href="#3-send-your-first-request" class="toc-h2 toc-link" data-title="3. Send your first request">3. Send your first request</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#public-rest-api" class="toc-h1 toc-link" data-title="Public REST API">Public REST API</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#authentication" class="toc-h2 toc-link" data-title="Authentication">Authentication</a>
                  </li>
                  <li>
                    <a href="#get-markets" class="toc-h2 toc-link" data-title="Get Markets">Get Markets</a>
                  </li>
                  <li>
                    <a href="#get-orderbook" class="toc-h2 toc-link" data-title="Get Orderbook">Get Orderbook</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#websocket-api" class="toc-h1 toc-link" data-title="WebSocket API">WebSocket API</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#authentication" class="toc-h2 toc-link" data-title="Authentication">Authentication</a>
                  </li>
                  <li>
                    <a href="#subscribing" class="toc-h2 toc-link" data-title="Subscribing">Subscribing</a>
                  </li>
                  <li>
                    <a href="#orderbook-channel" class="toc-h2 toc-link" data-title="Orderbook Channel">Orderbook Channel</a>
                  </li>
                  <li>
                    <a href="#trades-channel" class="toc-h2 toc-link" data-title="Trades Channel">Trades Channel</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#private-rest-api" class="toc-h1 toc-link" data-title="Private REST API">Private REST API</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-orders" class="toc-h2 toc-link" data-title="Get Orders">Get Orders</a>
                  </li>
                  <li>
                    <a href="#get-fills" class="toc-h2 toc-link" data-title="Get Fills">Get Fills</a>
                  </li>
                  <li>
                    <a href="#get-balances" class="toc-h2 toc-link" data-title="Get Balances">Get Balances</a>
                  </li>
                  <li>
                    <a href="#get-positions" class="toc-h2 toc-link" data-title="Get Positions">Get Positions</a>
                  </li>
                  <li>
                    <a href="#place-order" class="toc-h2 toc-link" data-title="Place Order">Place Order</a>
                  </li>
                  <li>
                    <a href="#cancel-order" class="toc-h2 toc-link" data-title="Cancel Order">Cancel Order</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#schema" class="toc-h1 toc-link" data-title="Schema">Schema</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#exchange" class="toc-h2 toc-link" data-title="Exchange">Exchange</a>
                  </li>
                  <li>
                    <a href="#market" class="toc-h2 toc-link" data-title="Market">Market</a>
                  </li>
                  <li>
                    <a href="#marketmetadata" class="toc-h2 toc-link" data-title="MarketMetadata">MarketMetadata</a>
                  </li>
                  <li>
                    <a href="#assettype" class="toc-h2 toc-link" data-title="AssetType">AssetType</a>
                  </li>
                  <li>
                    <a href="#abstracttoken" class="toc-h2 toc-link" data-title="AbstractToken">AbstractToken</a>
                  </li>
                  <li>
                    <a href="#data-type" class="toc-h2 toc-link" data-title="Data Type">Data Type</a>
                  </li>
                  <li>
                    <a href="#bid" class="toc-h2 toc-link" data-title="Bid">Bid</a>
                  </li>
                  <li>
                    <a href="#ask" class="toc-h2 toc-link" data-title="Ask">Ask</a>
                  </li>
                  <li>
                    <a href="#trade" class="toc-h2 toc-link" data-title="Trade">Trade</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#self-hosting" class="toc-h1 toc-link" data-title="Self hosting">Self hosting</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#what-is-it" class="toc-h2 toc-link" data-title="What is it?">What is it?</a>
                  </li>
                  <li>
                    <a href="#how-to-self-host" class="toc-h2 toc-link" data-title="How to Self-Host?">How to Self-Host?</a>
                  </li>
                  <li>
                    <a href="#data-privacy" class="toc-h2 toc-link" data-title="Data Privacy">Data Privacy</a>
                  </li>
              </ul>
          </li>
      </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introduction-to-astra-api'>Introduction to Astra API</h1>
<blockquote>
<p>Scroll down for example requests and responses.</p>
</blockquote>
<h3 id='what-is-it'>What is it?</h3>
<p>Astra API is a unified API for crypto markets. The API provides direct market access (DMA), i.e. it gives you fine-grained read and write access to the underlying orderbook on many different trading venues - including centralized exchanges, DEXes, and OTC desks.</p>

<p>Astra API takes care of data normalization, so you don&#39;t have to implement 10 different integrations for 10 different trading venues. Instead, you can just build one integration using Astra&#39;s unified data format, and use it for every trading venue.</p>
<h3 id='who-is-it-for'>Who is it for?</h3>
<p>Astra API is perfect for any business that needs to build performant, robust, and easy-to-use connections to crypto markets. This includes: trading firms, individual traders, OTC desks, institutional investors, fintech companies, brokerages, neobanks, and exchanges.</p>

<p>Integrating with our API is easy. Any developer can get started with Astra API in minutes, using the documentation on this page.</p>
<h3 id='supported-exchanges'>Supported exchanges</h3>
<p>We currently support:</p>

<ul>
<li>Binance</li>
<li>Coinbase</li>
<li>OKX</li>
<li>HTX (Huobi)</li>
<li>Kraken</li>
<li>KuCoin</li>
</ul>

<!-- - dYdX V4 -->

<p>The list is growing quickly, and we plan to add support for several more exchanges and DEXes in the coming months. If there&#39;s a specific trading venue that you&#39;d like us to prioritize, please <a href="mailto:contact@astra-api.dev">contact us</a>.</p>

<p>If you&#39;re an exchange or other trading venue, and you want us to integrate with your platform, please <a href="mailto:contact@astra-api.dev">contact us</a>.</p>
<h3 id='supported-asset-types'>Supported asset types</h3>
<p>We currently support the following asset types for each of the above exchanges:</p>

<ul>
<li>Spot</li>
<li>Perpetual Futures</li>
<li>Expiring Futures

<ul>
<li>for futures, we support both USD-margined and coin-margined contracts</li>
</ul></li>
<li>Options</li>
<li>(coming soon!) Leveraged Tokens</li>
<li>(coming soon!) Spot Margin</li>
</ul>
<h3 id='supported-endpoints'>Supported endpoints</h3>
<p>See below for a detailed list of the endpoints we support:</p>

<ul>
<li><a href="#websockets-api">Public market data via WebSocket</a></li>
<li><a href="#public-rest-api">Public market data via REST</a></li>
<li><a href="#private-rest-api">Private trading data via REST</a></li>
</ul>
<h3 id='how-it-works'>How it works</h3>
<p>If you are using Astra API for fetching real-time market data, all you need to get started is an API key, which you can get by following the steps <a href="#getting-started">below</a>.</p>

<p>In order to use Astra API for order management, execution, or position management, you need to first do the following for each exchange you wish to trade on:</p>

<ol>
<li>Create an account</li>
<li>Perform KYC verification if applicable

<ul>
<li>This is common for centralized exchanges, but typically not for DEXes</li>
</ul></li>
<li>Deposit funds onto the exchange</li>
<li>Get approved for each asset type you want to trade

<ul>
<li>Many exchanges will ask you to go through a quiz or signup process on their website in order to trade futures, options, and other margin products</li>
</ul></li>
</ol>

<p>You will then export your API keys from each exchange to use them with Astra API. More details on how to do this coming soon, once we add support for private exchange endpoints.</p>

<!-- See below for a walkthrough of how to export your API keys from Binance. -->

<p><b>If you would like to self-host Astra API on your own servers, see <a href="#self-hosting">below</a>.</b></p>

<aside class="notice">
<b>NOTE:</b> Astra API is still in its alpha release, so you may observe some occasional unexpected behaviour for edge cases. If you see something that looks off, please notify us at <a href="mailto:contact@astra-api.dev">contact@astra-api.dev</a> and we will look into it ASAP.
<br/>
<br/>
Additionally, the API surface is still in flux, and may change as we get closer to a stable release. If you need a stable API for your use-case, please contact us.
</aside>

<!-- ### Features

- Real-time L2 market data via REST and WebSocket
- Multi-asset support, including spot, perpetuals, expiring futures and options markets
- Normalization of data for all endpoints
- Low latency
- (coming soon!) Order placement, cancellation, and smart order routing
- (coming soon!) Fetching user data like fills, orders, positions, balances, and margin info
- (coming soon!) Colocation with exchanges
- (coming soon!) Historical market data
- (coming soon!) Transfers endpoints
- (coming soon!) Support for leveraged tokens, spot margin, and more -->

<!-- ## OTC

We've also used our expertise in exchange connectivity to build a best-in-class OTC desk serving transactions of all sizes.

Our OTC service provides access to deep liquidity across all assets, chains, and  

, access deep liquidity 


Our OTC service is 



In addition to Astra

market access to crypto markets, while also accessing the full spectrum of liquidity and never compromising on pr

seamless access to crypto markets without the hassle of dealing


The API is separated into three categories: Public HTTP API, Private HTTP API, and Websockets API. 

- Private HTTP API requests require authentication and enable those users to place orders and view user sepcific data.

- Public HTTP and Websocket API's are both public, accessible to all users. -->
<h1 id='getting-started'>Getting Started</h1><h3 id='1-create-an-account'>1. Create an account</h3>
<p>First, create an account with us here: <a href="https://terminal.astra-api.dev/settings/apikeys">https://terminal.astra-api.dev/settings/apikeys</a>. You can use your Astra account to access all of our products and services.</p>

<p><img src="images/astra-terminal-login-page-1150e7d0.png" alt="Astra Terminal login page" /></p>
<h3 id='2-create-an-api-key'>2. Create an API key</h3>
<p>Navigate to <a href="https://terminal.astra-api.dev/settings/apikeys">https://terminal.astra-api.dev/settings/apikeys</a> and create an API key. The key will only be displayed once upon creation, so make sure you save it.</p>

<p><img src="images/astra-terminal-api-keys-page-8a93f835.png" alt="Astra Terminal API keys page" /></p>
<h3 id='3-send-your-first-request'>3. Send your first request</h3>
<p><strong>Endpoints</strong></p>

<p>You can use the following endpoints to access our hosted API:</p>

<ul>
<li>REST endpoint: <code>https://prod.astra-api.dev</code></li>
<li>WebSocket endpoint: <code>wss://prod.astra-api.dev/ws</code></li>
</ul>

<p><strong>Authentication</strong></p>

<p>All requests to Astra API need to be authenticated</p>
<div class="highlight"><pre class="highlight plaintext"><code>{
    "x-astra-api-key": "Bearer kadjfasfl.KjUBAhdIafaDFSCsajfaIowSADxkaw"
}
</code></pre></div>
<p>You can authenticate by specifying a header named <code>x-astra-api-key</code> with the value <code>Bearer {KEY}</code>, where you replace &quot;KEY&quot; with the value of your API key. For example, if the API key you created in the previous step was <code>kadjfasfl.KjUBAhdIafaDFSCsajfaIowSADxkaw</code>, you would include the header displayed to the right.</p>

<p>Requests to the public market data endpoints do not require any additional authentication beyond your Astra API key. Private endpoints also require you to provide your exchange API keys for the specific exchange(s) you are trading on. More info on how to do this will be released once we enable support for private endpoints (currently in development).</p>

<p><strong>Send a request</strong></p>

<blockquote>
<p>Sample Request</p>
</blockquote>
<div class="highlight"><pre class="highlight shell"><code>curl <span class="nt">--location</span> <span class="s1">'http://prod.astra-api.dev/orderbook?market=BINANCE-SPOT-BTC-USDT'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'x-astra-api-key: Bearer {ASTRA_API_KEY}'</span>
</code></pre></div>
<blockquote>
<p>Sample Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"bids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">51485.41</span><span class="p">,</span><span class="w"> </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">4.10646</span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">51485.39</span><span class="p">,</span><span class="w"> </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00975</span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">51485.38</span><span class="p">,</span><span class="w"> </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00975</span><span class="p">},</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"asks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">51485.42</span><span class="p">,</span><span class="w"> </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.21005</span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">51485.59</span><span class="p">,</span><span class="w"> </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.77624</span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">51485.89</span><span class="p">,</span><span class="w"> </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.38811</span><span class="p">},</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Use your favorite HTTP client to send a market data request. Here&#39;s an example curl command you can use:</p>

<p>Replace <code>{ASTRA_API_KEY}</code> with the API key that you just generated. You should receive a response with a current snapshot of the orderbook for that market!</p>
<h1 id='public-rest-api'>Public REST API</h1>
<p><strong>Endpoint: <code>https://prod.astra-api.dev</code></strong></p>
<h3 id='authentication'>Authentication</h3>
<p>Remember to specify an authentication header with your API key, as described <a href="#3-send-your-first-request">above</a>. Otherwise, your requests will fail.</p>
<h2 id='get-markets'>Get Markets</h2>
<blockquote>
<p>Sample Request</p>
</blockquote>
<div class="highlight"><pre class="highlight shell"><code>GET /markets?exchange<span class="o">=</span>BINANCE
</code></pre></div>
<blockquote>
<p>Sample Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BINANCE-SPOT-ETH-USDT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"assetType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SPOT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"baseAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"quoteAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BINANCE-PERP-BTC-USDT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"assetType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PERP"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"baseAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"quoteAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"marginAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BINANCE-PERP-BTC-USD-COINM"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"assetType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PERP"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"baseAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"quoteAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"marginAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BINANCE-FUT-BTC-USDT-210625"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"baseAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"quoteAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"marginAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p><code>GET /markets</code></p>

<p>Returns all markets on the specified exchange that are supported by Astra, along with their associated metadata.</p>

<p>You can see the list of asset types we currently support <a href="#asset-type">here</a>. We&#39;re working on expanding our coverage to all tradeable markets.</p>

<aside class="notice">
Note: Currently, the only metadata we return is <i>baseAsset</i>, <i>quoteAsset</i>, and <i>marginAsset</i>, along with the market symbol and asset type. These assets are returned in a format that is normalized across exchanges (see <a href="#abstracttoken">AbstractToken</a> in our schema for more info)

We will gradually be adding much more normalized metadata to this response, including margin requirements, lot size, expiry, strike price, and more.
</aside>
<h3 id='request'>Request</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>exchange</td>
<td><a href="#exchange">Exchange</a></td>
<td>True</td>
<td>Exchange to fetch data from</td>
</tr>
</tbody></table>
<h3 id='response'>Response</h3>
<table><thead>
<tr>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Array&lt;<a href="#marketmetadata">MarketMetadata</a>&gt;</td>
<td>True</td>
<td>List of markets and their associated metadata</td>
</tr>
</tbody></table>
<h2 id='get-orderbook'>Get Orderbook</h2>
<blockquote>
<p>Sample Request</p>
</blockquote>
<div class="highlight"><pre class="highlight shell"><code>GET /orderbook?market<span class="o">=</span>BINANCE-SPOT-ETH-USDT
</code></pre></div>
<blockquote>
<p>Sample Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"bids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">1798.00</span><span class="p">,</span><span class="w">
      </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.5</span><span class="p">,</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">1797.01</span><span class="p">,</span><span class="w">
      </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">5.0</span><span class="p">,</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"asks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">1798.00</span><span class="p">,</span><span class="w">
      </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">1797.00</span><span class="p">,</span><span class="w">
      </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">10.0</span><span class="p">,</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><code>GET /orderbook</code></p>

<p>Returns a snapshot of the current L2 orderbook for the specified market. Bids are sorted in descending order of price, and asks are sorted in ascending order. The quantity at each price level corresponds to the aggregate of all open orders at that price.</p>
<h3 id='request'>Request</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>market</td>
<td><a href="#market">Market</a></td>
<td>True</td>
<td>Market to fetch data for</td>
</tr>
</tbody></table>
<h3 id='response'>Response</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>bids</td>
<td>Array&lt;<a href="#bid">Bid</a>&gt;</td>
<td>True</td>
<td>List of aggregated buy orders</td>
</tr>
<tr>
<td>asks</td>
<td>Array&lt;<a href="#ask">Ask</a>&gt;</td>
<td>True</td>
<td>List of aggregated sell orders</td>
</tr>
</tbody></table>
<h1 id='websocket-api'>WebSocket API</h1>
<!-- Default `content-Type`: `application/json` -->

<!-- The WebSocket endpoint is available without authentication. Once the socket is connected, you can subscribe to a channel by sending a `Subscription` message, detailed in Schema. -->

<p>You can use the WebSocket API to stream real-time market data.</p>

<p><strong>Endpoint: <code>wss://prod.astra-api.dev/ws</code></strong></p>
<h3 id='authentication'>Authentication</h3>
<p>Remember to specify an authentication header with your API key, as described <a href="#3-send-your-first-request">above</a>. Otherwise, your requests will fail.</p>
<h2 id='subscribing'>Subscribing</h2>
<p>You can have one active market data subscription per WebSocket connection. A &quot;subscription&quot; consists of a combination of a market and the data type you are subscribing to.</p>
<div class="highlight"><pre class="highlight plaintext"><code>wss://prod.astra-api.dev/ws?market=BINANCE-PERP-BTC-USDT&amp;dataType=ORDERBOOK
</code></pre></div>
<p>These are specified as query parameters in the initial connection request, as shown:</p>

<aside class="notice">
We will soon be adding support for switching the active subscription for a WebSocket connection that is already open.
</aside>

<!-- You can subscribe to multiple different exchange's specific Trade or Orderbook Updates channel concurrently by forwarding an list of `Subscription` messages through the WebSocket connection.  -->

<!-- To understand more about how Astra handles the subscribing of exchanges, please see the `Subcription` data type in the Schema tab. -->

<!-- > Sample message

```json
{
  "action": "SUBSCRIBE",
  "payload": {
      "exchange": "BINANCE",
      "market": {
        "baseAsset": {
          "type": "SPOT",
          "asset": "BTC"
        },
        "quoteAsset": "USDT"
      },
      "dataType": "ORDERBOOK"
    }
}
``` -->
<h3 id='request'>Request</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>market</td>
<td><a href="#market">Market</a></td>
<td>True</td>
<td>The market which you are requesting data for</td>
</tr>
<tr>
<td>dataType</td>
<td><a href="#data-type">DataType</a></td>
<td>True</td>
<td>The type of market data you want to stream</td>
</tr>
</tbody></table>

<!-- ### Message

|Value|Description|
|---|---|
|SUBSCRIBE|Subscribe to a channel|
|UNSUBSCRIBE|Unsubscribe from a channel| -->

<!-- 
### Subscription

|Parameter|Type|Default|Description|
|---|---|---|---|
|exchange|string|*required*|Action to perform|
|market|string|*required*|Exchange to subscribe/unsubscribe|
|dataType|[DataType](#datatype)|*required*|ID of an order on an exchange| -->
<h2 id='orderbook-channel'>Orderbook Channel</h2>
<blockquote>
<p>Sample Request</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>wss://prod.astra-api.dev/ws?market=BINANCE-PERP-BTC-USDT&amp;dataType=ORDERBOOK
</code></pre></div>
<blockquote>
<p>Sample Data Message</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"updateId"</span><span class="p">:</span><span class="w"> </span><span class="mi">37828320367</span><span class="p">,</span><span class="w">
    </span><span class="nl">"bids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">30708.01</span><span class="p">,</span><span class="w">
            </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.26141</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">30707.97</span><span class="p">,</span><span class="w">
            </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00571</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"asks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">30708.02</span><span class="p">,</span><span class="w">
            </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="mf">12.005</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">30708.1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.08388</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Streams L2 orderbook updates from the specified market.</p>

<p>For each exchange, we&#39;ve used whichever endpoint returns the most fine-grained orderbook updates with the lowest latency. For some exchanges, this is one update per tick, and for some exchanges, batched updates are the best that is available. <a href="mailto:contact@astra-api.dev">Contact us</a> for more information about how this is implemented under the hood.</p>
<h3 id='message'>Message</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>updateId</td>
<td>u64</td>
<td>True</td>
<td>Sequence ID for the orderbook update. <br/><br/> The exact format of this parameter may differ depending on the exchange, but it can be used to sequence updates. For any given market, updates with larger sequence IDs occurred later in time</td>
</tr>
<tr>
<td>bids</td>
<td>Array&lt;<a href="#bid">Bid</a>&gt;</td>
<td>True</td>
<td>List of updates to bids. <br/><br/> An update with parameters <code>updateId</code>,<code>price</code> and <code>quantity</code> means that the aggregated bid at price <code>price</code> was updated from its old quantity to <code>quantity</code> at the time indicated by the sequence number <code>updateId</code></td>
</tr>
<tr>
<td>asks</td>
<td>Array&lt;<a href="#ask">Ask</a>&gt;</td>
<td>True</td>
<td>List of updates to asks</td>
</tr>
</tbody></table>

<!-- ### Action

|Value|Description|
|---|---|
|SUBSCRIBE|Subscribe to a channel|
|UNSUBSCRIBE|Unsubscribe from a channel| -->

<!-- ```json
{
    "action": "SUBSCRIBE",
    "payload": {
        "exchange": "BINANCE",
        "market": {
            "baseAsset": {
                "type": "SPOT",
                "asset": "ETH"
            },
            "quoteAsset": "USDT"
        },
        "dataType": "ORDERBOOK"
    }
}
``` -->

<!-- ### OrderbookUpdate
|Parameter|Type|Required|Description|
|---|---|---|---|
|side|string|True|Side for the update|
|price|number|True|Price level for the update|
|quantity|number|True|New quantity for bid at this price level|
|sequenceNumber|number|True|Sequence number for update| -->
<h2 id='trades-channel'>Trades Channel</h2>
<blockquote>
<p>Sample Request</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>wss://prod.astra-api.dev/ws?market=BINANCE-PERP-BTC-USDT&amp;dataType=TRADE
</code></pre></div>
<blockquote>
<p>Sample Data Message</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"trades"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">47104.0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.003</span><span class="p">,</span><span class="w">
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SELL"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1707527023484</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">47100.1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0015</span><span class="p">,</span><span class="w">
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1707527025010</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Streams trade updates from the specified market.</p>

<p>For each exchange, we&#39;ve used whichever endpoint returns the most fine-grained trade updates with the lowest latency. For some exchanges, this is one update per trade, and for some exchanges, batched updates are the best that is available. <a href="mailto:contact@astra-api.dev">Contact us</a> for more information about how this is implemented under the hood.</p>
<h3 id='message'>Message</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>trades</td>
<td>Array&lt;<a href="#trade">Trade</a>&gt;</td>
<td>True</td>
<td>List of trades that have occurred since last message</td>
</tr>
</tbody></table>

<!-- ### Request

|Parameter|Type|Required|Description|
|---|---|---|---|
|action|[Action](#action)|True|Interaction with a specific channel|
|payload|[Subscription](#subscription)|True|Subscription data type describing trade update specifics|

### Action

|Value|Description|
|---|---|
|SUBSCRIBE|Subscribe to a channel|
|UNSUBSCRIBE|Unsubscribe from a channel|

```json
{
    "action": "SUBSCRIBE",
    "payload": {
        "exchange": "BINANCE",
        "market": {
            "baseAsset": {
                "type": "SPOT",
                "asset": "ETH"
            },
            "quoteAsset": "USDT"
        },
        "dataType": "TRADE"
    }
}
``` -->
<h1 id='private-rest-api'>Private REST API</h1><h2 id='get-orders'>Get Orders</h2>
<p><code>GET /orders</code></p>

<p>Fetches the user&#39;s open orders for the specified market.</p>

<aside class="notice">
Coming soon!
</aside>

<!-- > Sample Request

```json
{
    "exchange": "BINANCE",
    "baseAsset": {
      "type": "SPOT",
      "asset": "BTC"
  },
    "quoteAsset": "USDT"
}
```

### Request

|Parameter|Type|Required|Description|
|---|---|---|---|
|exchange|[Exchange](#exchange)|True|Exchange to fetch data from|
|baseAsset|String|True|Base asset of market|
|quoteAsset|String|True|Quote asset of market|

> Sample Response

```json
[
  {
    "id": "123456789",
    "baseAsset": {
      "type": "SPOT",
      "asset": "BTC"
    }, 
    "quoteAsset": "USD",
    "price": 20000.00,
    "quantity": 1.2,
    "side": "buy"
  },
  {
    "id": "2345678910",
    "baseAsset": {
      "type": "SPOT",
      "asset": "ETH"
    }, 
    "quoteAsset": "USD",
    "price": 1200.00,
    "quantity": 2.4,
    "side": "sell"
  }
]
```

### Response

|Name|Type|Required|Description|
|---|---|---|---|---|
|-|[[Order]](#order)|True|List of open orders| -->
<h2 id='get-fills'>Get Fills</h2>
<p><code>GET /fills</code></p>

<p>Fetches the user&#39;s fills for the specified market.</p>

<aside class="notice">
Coming soon!
</aside>
<h2 id='get-balances'>Get Balances</h2>
<p><code>GET /balances</code></p>

<p>Fetches the user&#39;s balances of all assets on the exchange. This includes deposits, collateral and open positions.</p>

<aside class="notice">
Coming soon!
</aside>

<!-- > Sample Request

```json
{
  "exchange": "BINANCE"
}
```

### Request

|Parameter|Type|Required|Description|
|---|---|---|---|
|exchange|[Exchange](#exchange)|True|Exchange to fetch data from|

> Sample Response

```json
{
  "BTC": 1.21,
  "ETH": 5.67,
  "SOL": 10.11
}
```

### Response

|Name|Type|Required|Description|
|---|---|---|---|---|
|asset symbol|Float (f64)|False|List of assets and corresponding amounts linked to user.| -->
<h2 id='get-positions'>Get Positions</h2>
<p><code>GET /positions</code></p>

<p>Fetches the user&#39;s positions on the specified exchange.</p>

<aside class="notice">
Coming soon!
</aside>
<h2 id='place-order'>Place Order</h2>
<p><code>POST /orders</code></p>

<p>Place and order on the specified exchange and market.</p>

<aside class="notice">
Coming soon!
</aside>

<!-- > Sample Request

```json
{
    "exchange": "BINANCE",
    "baseAsset": "BNB",
    "quoteAsset": "BTC",
    "side": "BUY",
    "price": "0.0075",
    "quantity": "1"
}
```
### Request

|Parameter|Type|Required|Description|
|---|---|---|---|
|exchange|[Exchange](#exchange)|True|Exchange to fetch data for|
|baseAsset|[Asset](#asset)|True|Base asset of market|
|quoteAsset|[Abstract Spot Asset](#abstract-spot-asset)|True|Quote asset of market|
|price|Float (f64)|True|Price of order (in units of quoteAsset)|
|quantity|Float (f64)|True|Quantity of order (in units of baseAsset)|
|side|[Side](#side)|True|Side of order|
|timeInForce|[Time In Force](#time-in-force)|False|Time in force for order|
|miscOptions|object|False|Miscellaneous params to send to the exchange|

### Side 

|Value|Description|
|---|---|
|SELL|Taker is selling the asset|
|BUY|Taker is buying the asset|

### Time in Force

|Value|Description|
|---|---|
|GTC|Good 'til Cancelled order|
|IOC|Immediate or Cancel Order|
|FOK|Fill or Kill Order|

> Sample Response

```json
[
  "123456789"
]
```

### Response

|Name|Type|Required|Description|
|---|---|---|---|---|
|-|Integer (i32)|True|ID of an order on an exchange| -->
<h2 id='cancel-order'>Cancel Order</h2>
<p><code>DELETE /orders</code></p>

<p>Cancels the specified order.</p>

<aside class="notice">
Coming soon!
</aside>

<!-- ### Request

|Parameter|Type|Required|Description|
|---|---|---|---|
|exchange|[Exchange](#exchange)|True|Exchange to fetch data for|
|orderId|String|True|ID of an order on an exchange|

### Response
 -->
<h1 id='schema'>Schema</h1><h2 id='exchange'>Exchange</h2>
<p>Represents a trading venue supported by Astra. The full list of currently supported exchanges is:</p>

<table><thead>
<tr>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>BINANCE</td>
</tr>
<tr>
<td>COINBASE</td>
</tr>
<tr>
<td>OKX</td>
</tr>
<tr>
<td>HUOBI</td>
</tr>
<tr>
<td>KUCOIN</td>
</tr>
<tr>
<td>KRAKEN</td>
</tr>
</tbody></table>
<h2 id='market'>Market</h2>
<blockquote>
<p>Sample Data</p>
</blockquote>

<p>Represents a particular market on a particular trading venue.</p>
<div class="highlight"><pre class="highlight shell"><code><span class="c"># Format for spot and perpetual futures markets:</span>
<span class="o">{</span>EXCHANGE<span class="o">}</span>-<span class="o">{</span>ASSET_TYPE<span class="o">}</span>-<span class="o">{</span>BASE_ASSET<span class="o">}</span>-<span class="o">{</span>QUOTE_ASSET<span class="o">}</span>-?<span class="o">{</span>DISAMBIGUATOR<span class="o">}</span>

<span class="c"># Format for expiring futures markets:</span>
<span class="o">{</span>EXCHANGE<span class="o">}</span>-<span class="o">{</span>ASSET_TYPE<span class="o">}</span>-<span class="o">{</span>BASE_ASSET<span class="o">}</span>-<span class="o">{</span>QUOTE_ASSET<span class="o">}</span>-<span class="o">{</span>EXPIRY_SYMBOL<span class="o">}</span>-?<span class="o">{</span>DISAMBIGUATOR<span class="o">}</span>

<span class="c"># Format for options markets:</span>
<span class="o">{</span>EXCHANGE<span class="o">}</span>-<span class="o">{</span>ASSET_TYPE<span class="o">}</span>-<span class="o">{</span>BASE_ASSET<span class="o">}</span>-<span class="o">{</span>QUOTE_ASSET<span class="o">}</span>-<span class="o">{</span>EXPIRY_SYMBOL<span class="o">}</span>-<span class="o">{</span>STRIKE_SYMBOL<span class="o">}</span>-?<span class="o">{</span>DISAMBIGUATOR<span class="o">}</span>
</code></pre></div>
<p>Astra has developed a custom naming scheme to represent crypto markets across many diverse trading venues. Every tradeable market is assigned a &quot;market symbol&quot;, which is a string that serves as the globally unique identifier for that market. The market symbol is also human-readable, and contains information about the exchange, base asset, quote asset, and metadata of that market.</p>

<p>On the right, you can see the format of market symbols for four popular asset types: spot, perpetual futures, expiring futures, and options.</p>

<p>&quot;Disambiguator&quot; is an optional parameter which is used to differentiate markets that are the same on all other parameters. For example, many exchanges have two types of futures contracts which differ in their margin behavior: those margined in USD or stablecoins (usually called &quot;USD-margined&quot; or &quot;USD-M&quot;), and those margined in the underlying base asset of the market (usually called &quot;coin-margined&quot; or &quot;Coin-M&quot;). To differentiate these, we use the &quot;-COINM&quot; disambiguator for coin-margined markets, and no disambiguator for USD-margined markets, which are more popular.</p>

<p>Here are some examples of various market symbols, along with descriptions of the markets they map to:</p>

<table><thead>
<tr>
<th>Market Symbol Example</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>BINANCE-SPOT-BTC-USDT</td>
<td>Binance BTC/USDT spot market</td>
</tr>
<tr>
<td>BINANCE-PERP-BTC-USDT</td>
<td>Binance USD-margined BTC/USDT perpetual futures</td>
</tr>
<tr>
<td>BINANCE-PERP-BTC-USD-COINM</td>
<td>Binance coin-margined BTC/USD perpetual futures</td>
</tr>
<tr>
<td>COINBASE-SPOT-BTC-USD</td>
<td>Coinbase BTC/USD spot market</td>
</tr>
<tr>
<td>OKX-FUT-BTC-USDT-210625</td>
<td>OKX BTC/USDT futures, expiring on 2021-06-25</td>
</tr>
<tr>
<td>BINANCE-OPT-BTC-USDT-210625-50000-C</td>
<td>Binance BTC/USDT options, strike price 50000, expiring on 2021-06-25</td>
</tr>
<tr>
<td>...</td>
<td>...</td>
</tr>
</tbody></table>
<h2 id='marketmetadata'>MarketMetadata</h2>
<blockquote>
<p>Sample Data</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BINANCE-PERP-BTC-USD-COINM"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"assetType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PERP"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"baseAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"quoteAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"marginAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Metadata associated with a particular market.</p>

<aside class="notice">
Note: Currently, the only metadata we return is <i>baseAsset</i>, <i>quoteAsset</i>, and <i>marginAsset</i>, along with the market symbol and asset type. These assets are returned in a format that is normalized across exchanges (see <a href="#abstracttoken">AbstractToken</a> in our schema for more info)

We will gradually be adding much more normalized metadata to this response, including margin requirements, lot size, expiry, strike price, and more.
</aside>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td><a href="#market">Market</a></td>
<td>True</td>
<td>The market symbol, formatted as mentioned <a href="#market">above</a>, which uniquely identifies the market</td>
</tr>
<tr>
<td>assetType</td>
<td><a href="#assettype">AssetType</a></td>
<td>True</td>
<td>The type of asset this market is for</td>
</tr>
<tr>
<td>baseAsset</td>
<td><a href="#abstracttoken">AbstractToken</a></td>
<td>True</td>
<td>For derivatives, this is the underlying asset of the instrument being bought and sold. For spot markets, this is itself the instrument being bought and sold</td>
</tr>
<tr>
<td>quoteAsset</td>
<td><a href="#abstracttoken">AbstractToken</a></td>
<td>True</td>
<td>Prices for this market are expressed in units of quoteAsset</td>
</tr>
<tr>
<td>marginAsset</td>
<td><a href="#abstracttoken">AbstractToken</a></td>
<td>False</td>
<td>The asset which is used as collateral for this market. Only exists for markets that allow margin trading</td>
</tr>
</tbody></table>
<h2 id='assettype'>AssetType</h2>
<p>Represents the type of asset that a particular market is for. We currently support the following asset types:</p>

<table><thead>
<tr>
<th>AssetType</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>SPOT</td>
<td>A spot market</td>
</tr>
<tr>
<td>PERP</td>
<td>A perpetual futures contract</td>
</tr>
<tr>
<td>FUT</td>
<td>An expiring (non-perpetual) futures contract</td>
</tr>
<tr>
<td>OPT</td>
<td>An option contract</td>
</tr>
</tbody></table>

<aside class="notice">
Support for leveraged tokens, exotic derivatives, and other asset types coming soon!
</aside>
<h2 id='abstracttoken'>AbstractToken</h2>
<p>Represents an abstract &quot;token&quot; such as BTC, ETH, USD, USDT, etc. This will usually refer to a
fungible blockchain token, but could potentially refer to other token-like assets such as equities,
etc.</p>

<p>This representation is agnostic to implementation details such as the network and token standard,
such as ERC-20 or TRC-20 or SPL. </p>

<p>It is also agnostic to any particular exchange&#39;s symbology. For example, Bitcoin from both Binance
and BitMEX will map to an <code>AbstractToken</code> of <code>BTC</code>, even though Binance refers to Bitcoin as &#39;BTC&#39;
and BitMEX refers to Bitcoin as &#39;XBT&#39;.</p>

<p><em>NOTE:</em> We do incorporate the exchange&#39;s symbology into our market symbols! So our symbol for the
BTC/USDT spot market on Binance is <code>BINANCE_SPOT_BTC_USDT</code>, while our symbol for the same market on
BitMEX (once we enable support for BitMEX) will be <code>BITMEX_SPOT_XBT_USD</code> - because BitMEX uses &#39;XBT&#39;
to refer to Bitcoin and uses &#39;USD&#39; rather than &#39;USDT&#39; as the quote asset for this market. However,
when you fetch the <code>MarketMetadata</code> for both these markets using our <code>/markets</code> endpoint, they will
both have a <code>baseAsset</code> of <code>BTC</code>.</p>

<table><thead>
<tr>
<th>AbstractToken</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>BTC</td>
<td>Bitcoin</td>
</tr>
<tr>
<td>ETH</td>
<td>Ether</td>
</tr>
<tr>
<td>SOL</td>
<td>Solana</td>
</tr>
<tr>
<td>XRP</td>
<td>Ripple</td>
</tr>
<tr>
<td>...</td>
<td>...</td>
</tr>
</tbody></table>

<aside class="notice">
We are in the process of adding an endpoint that will return all the `AbstractToken`s in our
symbology, along with their descriptions.
</aside>

<!-- The assets are "abstract" in the sense that they doesn't necessarily
correspond to a single fungible token - there is variation with regard to
network, custody, etc.

For example, USDC could refer to USDC on any network: Ethereum, Solana, etc.
These are all technically distinct assets, which we think of as equivalent
due to the creation/redemption mechanism maintained by Circle across all
networks.

Similarly, BTC could refer to Bitcoin custodied on Binance,
Coinbase, self-custody, etc. When you custody an asset on a centralized
exchange, what you actually own is just a "deposit", which is an IOU from
the exchange that you can redeem for the underlying asset. These are subject
to different counterparty risks depending on the exchange, and are arguably
not the same asset.

So for simplicity, we use AbstractSpotAsset to represent what most users and
exchanges think of as a single spot asset. -->
<h2 id='data-type'>Data Type</h2>
<table><thead>
<tr>
<th>Value</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ORDERBOOK</td>
<td>Orderbook updates</td>
</tr>
<tr>
<td>TRADE</td>
<td>Trade updates</td>
</tr>
</tbody></table>
<h2 id='bid'>Bid</h2>
<blockquote>
<p>Sample Data</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">27879.5</span><span class="p">,</span><span class="w">
    </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.5</span><span class="p">,</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Represents the aggregate of all buy orders on a particular market for a given price level.</p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>price</td>
<td>f64</td>
<td>True</td>
<td>Price of the buy orders (in units of quoteAsset)</td>
</tr>
<tr>
<td>quantity</td>
<td>f64</td>
<td>True</td>
<td>Aggregated quantity of the buy orders (in units of baseAsset)</td>
</tr>
</tbody></table>
<h2 id='ask'>Ask</h2>
<blockquote>
<p>Sample Data</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">27500.00</span><span class="p">,</span><span class="w">
    </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Represents the aggregate of all sell orders on a particular market for a given price level.</p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>price</td>
<td>f64</td>
<td>True</td>
<td>Price of the sell orders (in units of quoteAsset)</td>
</tr>
<tr>
<td>quantity</td>
<td>f64</td>
<td>True</td>
<td>Aggregated quantity of the sell orders (in units of baseAsset)</td>
</tr>
</tbody></table>
<h2 id='trade'>Trade</h2>
<blockquote>
<p>Sample Data</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"exchangeMarket"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"exchange"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BINANCE"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"market"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"baseAsset"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SPOT"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"asset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"quoteAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">30199.49</span><span class="p">,</span><span class="w">
    </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0032</span><span class="p">,</span><span class="w">
    </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SELL"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Astra represents a trade through <code>Trade</code> on a specific market on an exchange.</p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>exchangeMarket</td>
<td><a href="#exchange-market">Exchange Market</a></td>
<td>True</td>
<td>Contains exchange and market which was traded</td>
</tr>
<tr>
<td>price</td>
<td>Float (f64)</td>
<td>True</td>
<td>Price of trade units of quote asset</td>
</tr>
<tr>
<td>quantity</td>
<td>Float (f64)</td>
<td>True</td>
<td>Quantity of trade in units of base asset</td>
</tr>
<tr>
<td>side</td>
<td>[Side](</td>
<td>True</td>
<td>Direction of trade</td>
</tr>
</tbody></table>
<h3 id='exchange-market'>Exchange Market</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>exchange</td>
<td><a href="#exchange">Exchange</a></td>
<td>True</td>
<td>Exchange to fetch data from.</td>
</tr>
<tr>
<td>price</td>
<td>Float (f64)</td>
<td>True</td>
<td>Price of trade units of quote asset</td>
</tr>
</tbody></table>
<h3 id='side'>Side</h3>
<table><thead>
<tr>
<th>Value</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>SELL</td>
<td>Taker is selling the asset</td>
</tr>
<tr>
<td>BUY</td>
<td>Taker is buying the asset</td>
</tr>
</tbody></table>
<h1 id='self-hosting'>Self hosting</h1><h3 id='what-is-it'>What is it?</h3>
<p>Astra API is available in two modes: managed and self-hosted.</p>

<p>With managed hosting, we run all the infrastructure behind the scenes to give you fast, robust market access.</p>

<p>With self-hosting, we provide you with a lightweight proxy agent that you run on your own servers. Your business software can then interact directly with each exchange via our proxy.</p>

<p>To get started, create an account with us and create and Astra API key. If you are using our API only to access public market data, then this is all you need.</p>

<p>If you are placing/cancelling orders or fetching your private user data, you will need to bring your own exchange accounts and API keys. Once you have set up accounts on an exchange, you can export your API keys and use that with the Astra API.</p>
<h3 id='how-to-self-host'>How to Self-Host?</h3>
<p>For self-hosting, follow these steps:</p>

<ol>
<li><strong>Install Docker:</strong>
Ensure Docker is installed on your server. If not, visit <a href="https://docs.docker.com/get-docker/">Docker&#39;s official website</a> for instructions.</li>
</ol>
<div class="highlight"><pre class="highlight shell"><code>docker run <span class="nt">-d</span> <span class="nt">--platform</span> linux/amd64 <span class="nt">-p</span> 8080:8080 <span class="nt">-p</span> 9090:9090 <span class="nt">--env</span> <span class="nv">ASTRA_API_KEY</span><span class="o">=</span><span class="nv">$ASTRA_API_KEY</span> <span class="nt">--name</span> astra-gateway <span class="nt">-t</span> docker.io/astraimages/gateway:v0.0.1-alpha
</code></pre></div>
<ol>
<li><p><strong>Obtain your API key</strong>
Refer <a href="#getting-started">above</a> for how to create an account and an Astra API key. Your API key is crucial for authentication and ensuring secure communication with the Astra API.</p></li>
<li><p><strong>Run the astra-gateway proxy</strong>
Execute the following command in a shell on your server. Replace <code>$ASTRA_API_KEY</code> in the command with your actual Astra API key.</p></li>
</ol>
<h3 id='data-privacy'>Data Privacy</h3>
<p>For users of managed hosting, your data is encrypted in transit via HTTPS, and we never read any credentials that you transmit via our API. We have a strict no-logging policy for sensitive user data, which means that any credentials get destroyed as soon as they are used, and are never written to disk.</p>

<p>For users of self-hosting, you fully own your data. Your data, keys, and other credentials never leave your servers. Astra&#39;s proxy agent is self-contained, and only communicates with our servers to authenticate you and make sure you have a valid Astra API key.</p>

      </div>
      <div class="dark-box">
      </div>
    </div>
  </body>
</html>
